!function(){function g(e){var t=new g.Index;return t.pipeline.add(g.trimmer,g.stopWordFilter,g.stemmer),e&&e.call(t,t),t}var u,c,e,t,d,h,f,p,m,v,y,b,w,S,E,x,I,C,_,z,k,P,T,A,n;g.version="0.9.5",((lunr=g).utils={}).warn=(n=this,function(e){n.console&&console.warn&&console.warn(e)}),g.utils.toString=function(e){return null==e?"":e.toString()},(g.EventEmitter=function(){this.events={}}).prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();if("function"!=typeof t)throw new TypeError("last argument must be a function");e.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},g.EventEmitter.prototype.removeListener=function(e,t){this.hasHandler(e)&&-1!==(t=this.events[e].indexOf(t))&&(this.events[e].splice(t,1),0==this.events[e].length&&delete this.events[e])},g.EventEmitter.prototype.emit=function(e){var t;this.hasHandler(e)&&(t=Array.prototype.slice.call(arguments,1),this.events[e].forEach(function(e){e.apply(void 0,t)},this))},g.EventEmitter.prototype.hasHandler=function(e){return e in this.events},(g.tokenizer=function(e){return arguments.length&&null!=e?Array.isArray(e)?(t=(t=e.filter(function(e){return null!=e})).map(function(e){return g.utils.toString(e).toLowerCase()}),n=[],t.forEach(function(e){e=e.split(g.tokenizer.seperator);n=n.concat(e)},this),n):e.toString().trim().toLowerCase().split(g.tokenizer.seperator):[];var t,n}).defaultSeperator=/[\s\-]+/,g.tokenizer.seperator=g.tokenizer.defaultSeperator,g.tokenizer.setSeperator=function(e){null!=e&&"object"==typeof e&&(g.tokenizer.seperator=e)},g.tokenizer.resetSeperator=function(){g.tokenizer.seperator=g.tokenizer.defaultSeperator},g.tokenizer.getSeperator=function(){return g.tokenizer.seperator},(g.Pipeline=function(){this._queue=[]}).registeredFunctions={},g.Pipeline.registerFunction=function(e,t){t in g.Pipeline.registeredFunctions&&g.utils.warn("Overwriting existing registered function: "+t),e.label=t,g.Pipeline.registeredFunctions[t]=e},g.Pipeline.getRegisteredFunction=function(e){return e in g.Pipeline.registeredFunctions!=1?null:g.Pipeline.registeredFunctions[e]},g.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||g.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},g.Pipeline.load=function(e){var n=new g.Pipeline;return e.forEach(function(e){var t=g.Pipeline.getRegisteredFunction(e);if(!t)throw new Error("Cannot load un-registered function: "+e);n.add(t)}),n},g.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){g.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},g.Pipeline.prototype.after=function(e,t){g.Pipeline.warnIfFunctionNotRegistered(t);e=this._queue.indexOf(e);if(-1===e)throw new Error("Cannot find existingFn");this._queue.splice(e+1,0,t)},g.Pipeline.prototype.before=function(e,t){g.Pipeline.warnIfFunctionNotRegistered(t);e=this._queue.indexOf(e);if(-1===e)throw new Error("Cannot find existingFn");this._queue.splice(e,0,t)},g.Pipeline.prototype.remove=function(e){e=this._queue.indexOf(e);-1!==e&&this._queue.splice(e,1)},g.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;o<n;o++){for(var r=e[o],s=0;s<i&&null!=(r=this._queue[s](r,o,e));s++);null!=r&&t.push(r)}return t},g.Pipeline.prototype.reset=function(){this._queue=[]},g.Pipeline.prototype.get=function(){return this._queue},g.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return g.Pipeline.warnIfFunctionNotRegistered(e),e.label})},(g.Index=function(){this._fields=[],this._ref="id",this.pipeline=new g.Pipeline,this.documentStore=new g.DocumentStore,this.index={},this.eventEmitter=new g.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))}).prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},g.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},g.Index.load=function(e){e.version!==g.version&&g.utils.warn("version mismatch: current "+g.version+" importing "+e.version);var t,n=new this;for(t in n._fields=e.fields,n._ref=e.ref,n.documentStore=g.DocumentStore.load(e.documentStore),n.pipeline=g.Pipeline.load(e.pipeline),n.index={},e.index)n.index[t]=g.InvertedIndex.load(e.index[t]);return n},g.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new g.InvertedIndex,this},g.Index.prototype.setRef=function(e){return this._ref=e,this},g.Index.prototype.saveDocument=function(e){return this.documentStore=new g.DocumentStore(e),this},g.Index.prototype.addDoc=function(r,e){var s;r&&(e=void 0===e||e,s=r[this._ref],this.documentStore.addDoc(s,r),this._fields.forEach(function(e){var t,n=this.pipeline.run(g.tokenizer(r[e])),i=(this.documentStore.addFieldLength(s,e,n.length),{});for(t in n.forEach(function(e){e in i?i[e]+=1:i[e]=1},this),i){var o=i[t],o=Math.sqrt(o);this.index[e].addToken(t,{ref:s,tf:o})}},this),e&&this.eventEmitter.emit("add",r,this))},g.Index.prototype.removeDocByRef=function(e){e&&!1!==this.documentStore.isDocStored()&&this.documentStore.hasDoc(e)&&(e=this.documentStore.getDoc(e),this.removeDoc(e,!1))},g.Index.prototype.removeDoc=function(e,t){var n;e&&(t=void 0===t||t,n=e[this._ref],this.documentStore.hasDoc(n)&&(this.documentStore.removeDoc(n),this._fields.forEach(function(t){this.pipeline.run(g.tokenizer(e[t])).forEach(function(e){this.index[t].removeToken(e,n)},this)},this),t&&this.eventEmitter.emit("remove",e,this)))},g.Index.prototype.updateDoc=function(e,t){t=void 0===t||t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},g.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];t=this.index[t].getDocFreq(e),e=1+Math.log(this.documentStore.length/(t+1));return this._idfCache[n]=e},g.Index.prototype.getFields=function(){return this._fields.slice()},g.Index.prototype.search=function(e,t){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var n=null;null!=t&&(n=JSON.stringify(t));for(var i=new g.Configuration(n,this.getFields()).get(),o={},r=Object.keys(e),s=0;s<r.length;s++){var l=r[s];o[l]=this.pipeline.run(g.tokenizer(e[l]))}var a,u={};for(a in i){var c=o[a]||o.any;if(c){var d=this.fieldSearch(c,a,i),h=i[a].boost;for(p in d)d[p]=d[p]*h;for(p in d)p in u?u[p]+=d[p]:u[p]=d[p]}}var f,p,m=[];for(p in u)f={ref:p,score:u[p]},this.documentStore.hasDoc(p)&&(f.doc=this.documentStore.getDoc(p)),m.push(f);return m.sort(function(e,t){return t.score-e.score}),m},g.Index.prototype.fieldSearch=function(e,d,t){var h=t[d].bool,n=t[d].expand,t=t[d].boost,f=null,p={};return 0!==t?(e.forEach(function(u){var e=[u],c=(1==n&&(e=this.index[d].expandToken(u)),{});e.forEach(function(e){var t=this.index[d].getDocs(e),n=this.idf(e,d);if(f&&"AND"==h){var i,o={};for(i in f)i in t&&(o[i]=t[i]);t=o}for(i in e==u&&this.fieldSearchStats(p,e,t),t){var r=this.index[d].getTermFrequency(e,i),s=this.documentStore.getFieldLength(i,d),l=1,a=1,r=r*n*(l=0!=s?1/Math.sqrt(s):l)*(a=e!=u?.15*(1-(e.length-u.length)/e.length):a);i in c?c[i]+=r:c[i]=r}},this),f=this.mergeScores(f,c,h)},this),f=this.coordNorm(f,p,e.length)):void 0},g.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},g.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},g.Index.prototype.coordNorm=function(e,t,n){for(var i in e){var o;i in t&&(o=t[i].length,e[i]=e[i]*o/n)}return e},g.Index.prototype.toJSON=function(){var t={};return this._fields.forEach(function(e){t[e]=this.index[e].toJSON()},this),{version:g.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:t,pipeline:this.pipeline.toJSON()}},g.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},(g.DocumentStore=function(e){this._save=null==e||e,this.docs={},this.docInfo={},this.length=0}).load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},g.DocumentStore.prototype.isDocStored=function(){return this._save},g.DocumentStore.prototype.addDoc=function(e,t){this.hasDoc(e)||this.length++,this.docs[e]=!0===this._save?function(e){if(null===e||"object"!=typeof e)return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t):null},g.DocumentStore.prototype.getDoc=function(e){return!1===this.hasDoc(e)?null:this.docs[e]},g.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},g.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},g.DocumentStore.prototype.addFieldLength=function(e,t,n){null!=e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},g.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!=e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},g.DocumentStore.prototype.getFieldLength=function(e,t){return null!=e&&e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},g.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},u={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},e="[aeiouy]",t="[^aeiou][^aeiouy]*",d=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),f=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),p=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),m=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,y=/^(.+?)eed$/,b=/^(.+?)(ed|ing)$/,w=/.$/,S=/(at|bl|iz)$/,E=new RegExp("([^aeiouylsz])\\1$"),x=new RegExp("^"+t+e+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,C=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,_=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,z=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,k=/^(.+?)(s|t)(ion)$/,P=/^(.+?)e$/,T=/ll$/,A=new RegExp("^"+t+e+"[^aeiouwxy]$"),g.Pipeline.registerFunction(g.stemmer=function(e){var t,n,i,o,r,s,l,a;return e.length<3?e:("y"==(n=e.substr(0,1))&&(e=n.toUpperCase()+e.substr(1)),l=v,(r=m).test(e)?e=e.replace(r,"$1$2"):l.test(e)&&(e=e.replace(l,"$1$2")),l=b,(r=y).test(e)?(a=r.exec(e),(r=d).test(a[1])&&(e=e.replace(r=w,""))):l.test(e)&&(s=(a=l.exec(e))[1],(l=p).test(s)&&(e=s,i=E,o=x,(l=S).test(e)?e+="e":i.test(e)?e=e.replace(r=w,""):o.test(e)&&(e+="e"))),(r=I).test(e)&&(e=(s=(a=r.exec(e))[1])+"i"),(r=C).test(e)&&(s=(a=r.exec(e))[1],t=a[2],(r=d).test(s)&&(e=s+u[t])),(r=_).test(e)&&(s=(a=r.exec(e))[1],t=a[2],(r=d).test(s)&&(e=s+c[t])),l=k,(r=z).test(e)?(s=(a=r.exec(e))[1],(r=h).test(s)&&(e=s)):l.test(e)&&(s=(a=l.exec(e))[1]+a[2],(l=h).test(s)&&(e=s)),(r=P).test(e)&&(s=(a=r.exec(e))[1],l=f,i=A,((r=h).test(s)||l.test(s)&&!i.test(s))&&(e=s)),l=h,(r=T).test(e)&&l.test(e)&&(e=e.replace(r=w,"")),"y"==n?n.toLowerCase()+e.substr(1):e)},"stemmer"),g.stopWordFilter=function(e){return e&&!0!==g.stopWordFilter.stopWords[e]?e:void 0},g.clearStopWords=function(){g.stopWordFilter.stopWords={}},g.addStopWords=function(e){null!=e&&!1!==Array.isArray(e)&&e.forEach(function(e){g.stopWordFilter.stopWords[e]=!0},this)},g.resetStopWords=function(){g.stopWordFilter.stopWords=g.defaultStopWords},g.stopWordFilter.stopWords=g.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0},g.Pipeline.registerFunction(g.stopWordFilter,"stopWordFilter"),g.Pipeline.registerFunction(g.trimmer=function(e){if(null==e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},"trimmer"),(g.InvertedIndex=function(){this.root={docs:{},df:0}}).load=function(e){var t=new this;return t.root=e.root,t},g.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},g.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},g.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},g.InvertedIndex.prototype.getDocs=function(e){e=this.getNode(e);return null==e?{}:e.docs},g.InvertedIndex.prototype.getTermFrequency=function(e,t){e=this.getNode(e);return null!=e&&t in e.docs?e.docs[t].tf:0},g.InvertedIndex.prototype.getDocFreq=function(e){e=this.getNode(e);return null==e?0:e.df},g.InvertedIndex.prototype.removeToken=function(e,t){e&&null!=(e=this.getNode(e))&&t in e.docs&&(delete e.docs[t],--e.df)},g.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var i,t=t||[];if(null==n&&null==(n=this.getNode(e)))return t;for(i in 0<n.df&&t.push(e),n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},g.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},(g.Configuration=function(e,t){var n,e=e||"";if(null==t)throw new Error("fields should not be null");this.config={};try{n=JSON.parse(e),this.buildUserConfig(n,t)}catch(e){g.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(t)}}).prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},g.Configuration.prototype.buildUserConfig=function(e,t){var n,i,o="OR",r=!1;if(this.reset(),"bool"in e&&(o=e.bool||o),"expand"in e&&(r=e.expand||r),"fields"in e)for(var s in e.fields)-1<t.indexOf(s)?(i=r,null!=(n=e.fields[s]).expand&&(i=n.expand),this.config[s]={boost:n.boost||0===n.boost?n.boost:1,bool:n.bool||o,expand:i}):g.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(o,r,t)},g.Configuration.prototype.addAllFields2UserConfig=function(t,n,e){e.forEach(function(e){this.config[e]={boost:1,bool:t,expand:n}},this)},g.Configuration.prototype.get=function(){return this.config},g.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){for(var e,t=0;t<arguments.length;t++)~this.indexOf(e=arguments[t])||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];1<i;){if(r===e)return o;i=(n=e<r?o:n)-(t=r<e?o:t),o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];1<i;)i=(n=e<r?o:n)-(t=r<e?o:t),o=t+Math.floor(i/2),r=this.elements[o];return e<r?o:r<e?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,l=e.elements;!(o-1<n||r-1<i);)s[n]!==l[i]?s[n]<l[i]?n++:s[n]>l[i]&&i++:(t.add(s[n]),n++,i++);return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){for(var t,e=this.length>=e.length?(t=this,e):(t=e,this),n=t.clone(),i=0,o=e.toArray();i<o.length;i++)n.add(o[i]);return n},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},t=this,e=function(){return g},"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=g:t.elasticlunr=g}(),function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";function n(a,u,c){(c=c||t||e.jQuery)&&(u.prototype.option||(u.prototype.option=function(e){c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e))}),c.fn[a]=function(e){var t,i,o,r,s,l;return"string"==typeof e?(t=d.call(arguments,1),o=t,s="$()."+a+'("'+(i=e)+'")',(t=this).each(function(e,t){var n,t=c.data(t,a);t?(n=t[i])&&"_"!=i.charAt(0)?(n=n.apply(t,o),r=void 0===r?n:r):h(s+" is not a valid method"):h(a+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:t):(l=e,this.each(function(e,t){var n=c.data(t,a);n?(n.option(l),n._init()):(n=new u(t,l),c.data(t,a,n))}),this)},i(c))}function i(e){e&&!e.bridget&&(e.bridget=n)}var d=Array.prototype.slice,o=e.console,h=void 0===o?function(){}:function(e){o.error(e)};return i(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,r){var a={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,u=(a.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},a.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},a.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},a.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},a.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.filterFindElements=function(e,i){e=a.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},a.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r],t=(clearTimeout(e),arguments),n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},a.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},a.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return a.htmlInit=function(s,l){a.docReady(function(){var e=a.toDashed(l),i="data-"+e,t=document.querySelectorAll("["+i+"]"),e=document.querySelectorAll(".js-"+e),t=a.makeArray(t).concat(a.makeArray(e)),o=i+"-options",r=n.jQuery;t.forEach(function(t){var e,n=t.getAttribute(i)||t.getAttribute(o);try{e=n&&JSON.parse(n)}catch(e){return void(u&&u.error("Error parsing "+i+" on "+t.className+": "+e))}n=new s(t,e);r&&r.data(t,l,n)})})},a}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("ev-emitter"),require("fizzy-ui-utils")):n.InfiniteScroll=i(n,n.EvEmitter,n.fizzyUIUtils)}(window,function(t,e,o){function r(e,t){var n,i=o.getQueryElement(e);{if(i)return(e=i).infiniteScrollGUID?((n=l[e.infiniteScrollGUID]).option(t),n):(this.element=e,this.options=o.extend({},r.defaults),this.option(t),s&&(this.$element=s(this.element)),void this.create());console.error("Bad element for InfiniteScroll: "+(i||e))}}var s=t.jQuery,l={},n=(r.defaults={},r.create={},r.destroy={},r.prototype),i=(o.extend(n,e.prototype),0),a=(n.create=function(){var e=this.guid=++i;if(this.element.infiniteScrollGUID=e,(l[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[t].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(e){o.extend(this.options,e)},n.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},n.dispatchEvent=function(e,t,n){this.log(e,n);var i=t?[t].concat(n):n;this.emitEvent(e,i),s&&this.$element&&(i=e+=".infiniteScroll",t&&((t=s.Event(t)).type=e,i=t),this.$element.trigger(i,n))},{initialized:function(e){return"on "+e},request:function(e){return"URL: "+e},load:function(e,t){return(e.title||"")+". URL: "+t},error:function(e,t){return e+". URL: "+t},append:function(e,t,n){return n.length+" items. URL: "+t},last:function(e,t){return"URL: "+t},history:function(e,t){return"URL: "+t},pageIndex:function(e,t){return"current page determined to be: "+e+" from "+t}}),u=(n.log=function(e,t){var n;this.options.debug&&(n="[InfiniteScroll] "+e,(e=a[e])&&(n+=". "+e.apply(this,t)),console.log(n))},n.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},n.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:o.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},n.updateGetPath=function(){var e=this.options.path;if(e){var t=typeof e;if("function"!=t)return"string"==t&&e.match("{{#}}")?void this.updateGetPathTemplate(e):void this.updateGetPathSelector(e);this.getPath=e}else console.error("InfiniteScroll path option required. Set as: "+e)},n.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),e=new RegExp(e),e=location.href.match(e);e&&(this.pageIndex=parseInt(e[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]);return n.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){for(var n,i=t.getAttribute("href"),o=0;i&&o<u.length;o++){var r=i.match(u[o]);if(r){n=r.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var e=this.pageIndex+1;return n[0]+e+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+i)}console.error("Bad InfiniteScroll path option. Next link not found: "+e)},n.updateGetAbsolutePath=function(){var e,t,n=this.getPath();n.match(/^http/)||n.match(/^\//)?this.getAbsolutePath=this.getPath:(e=location.pathname,n.match(/^\?/)?this.getAbsolutePath=function(){return e+this.getPath()}:(t=e.substring(0,e.lastIndexOf("/")),this.getAbsolutePath=function(){return t+"/"+this.getPath()}))},r.create.hideNav=function(){var e=o.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var e in this.allOff(),r.destroy)r.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete l[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},r.throttle=function(i,o){var r,s;return o=o||200,function(){var e=+new Date,t=arguments,n=function(){r=e,i.apply(this,t)}.bind(this);r&&e<r+o?(clearTimeout(s),s=setTimeout(n,o)):n()}},r.data=function(e){e=(e=o.getQueryElement(e))&&e.infiniteScrollGUID;return e&&l[e]},r.setJQuery=function(e){s=e},o.htmlInit(r,"infinite-scroll"),n._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",r),r}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("./core")):n(t,t.InfiniteScroll)}(window,function(i,o){function d(e){for(var t=document.createDocumentFragment(),n=0;e&&n<e.length;n++)t.appendChild(e[n]);return t}var e=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},e.loadNextPage=function(){var t,e,n,i,o,r,s,l,a,u;!this.isLoading&&this.canLoad&&(t=this.getAbsolutePath(),this.isLoading=!0,e=function(e){this.onPageLoad(e,t)}.bind(this),n=function(e){this.onPageError(e,t)}.bind(this),i=function(e){this.lastPageReached(e,t)}.bind(this),o=t,r=this.options.responseType,s=e,l=n,a=i,(u=new XMLHttpRequest).open("GET",o,!0),u.responseType=r||"",u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.onload=function(){var e;200==u.status?s(u.response):204==u.status?a(u.response):(e=new Error(u.statusText),l(e))},u.onerror=function(){var e=new Error("Network error requesting "+o);l(e)},u.send(),this.dispatchEvent("request",null,[t]))},e.onPageLoad=function(e,t){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t]),this.appendNextPage(e,t),e},e.appendNextPage=function(e,t){var n,i,o=this.options.append;"document"==this.options.responseType&&o&&(n=e.querySelectorAll(o),i=d(n),o=function(){this.appendItems(n,i),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,n])}.bind(this),this.options.outlayer?this.appendOutlayerItems(i,o):o())},e.appendItems=function(e,t){if(e&&e.length){for(var n=(t=t||d(e)).querySelectorAll("script"),i=0;i<n.length;i++){for(var o=n[i],r=document.createElement("script"),s=(c=u=a=l=s=void 0,o),l=r,a=s.attributes,u=0;u<a.length;u++){var c=a[u];l.setAttribute(c.name,c.value)}r.innerHTML=o.innerHTML,o.parentNode.replaceChild(r,o)}this.element.appendChild(t)}},e.appendOutlayerItems=function(e,t){var n=o.imagesLoaded||i.imagesLoaded;return n?void n(e,t):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},e.onAppendOutlayer=function(e,t,n){this.options.outlayer.appended(n)},e.checkLastPage=function(e,t){var n=this.options.checkLastPage;if(n){var i,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(e,t);"string"==typeof n?i=n:this.isPathSelector&&(i=o),i&&e.querySelector&&(e.querySelector(i)||this.lastPageReached(e,t))}},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t]),e},o.create.prefill=function(){var e;this.options.prefill&&((e=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e))},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;!e&&0!==e||this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},i.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},i.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},i.bindScrollWatchEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),t[e]("resize",this.resizeHandler)},i.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),i.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},i.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},i.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},i.onResize=function(){this.updateMeasurements()},n.debounceMethod(e,"onResize",150),e}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype,o=(e.defaults.history="replace",document.createElement("a"));return e.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),t[e]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(e,t,n){n&&n.length&&(n=n[0],n=this.getElementScrollY(n),o.href=t,this.scrollPages.push({top:n,path:o.href,title:e.title}))},i.getElementScrollY=function(e){return this.options.elementScroll?this.getElementElementScrollY(e):this.getElementWindowScrollY(e)},i.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},i.getElementElementScrollY=function(e){return e.offsetTop-this.top},i.onScrollHistory=function(){for(var e,t,n=this.getScrollViewY(),i=0;i<this.scrollPages.length;i++){var o=this.scrollPages[i];if(o.top>=n)break;e=i,t=o}e!=this.scrollPageIndex&&(this.scrollPageIndex=e,this.setHistory(t.title,t.path))},n.debounceMethod(e,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},i.setHistory=function(e,t){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},i.onUnload=function(){var e=this.scrollPageIndex;0!==e&&(e=this.scrollPages[e],e=t.pageYOffset-e.top+this.top,this.destroyHistory(),scrollTo(0,e))},i.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}return t.create.button=function(){var e=n.getQueryElement(this.options.button);e&&(this.button=new i(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},i.prototype.onClick=function(e){e.preventDefault(),this.infScroll.loadNextPage()},i.prototype.enable=function(){this.element.removeAttribute("disabled")},i.prototype.disable=function(){this.element.disabled="disabled"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},t.Button=i,t}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e){r(e,"none")}function o(e){r(e,"block")}function r(e,t){e&&(e.style.display=t)}var s=t.prototype;return t.create.status=function(){var e=n.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(e){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[e])},s.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var e in this.statusEventElements)i(this.statusEventElements[e])},t}),function(e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(e){return e})),function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function r(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);var i,o=e;return(o="string"==typeof e?document.querySelectorAll(e):o)?(this.elements=(i=o,Array.isArray(i)?i:"object"==typeof i&&"number"==typeof i.length?u.call(i):[i]),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(o||e))}function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var l=t.jQuery,a=t.console,u=Array.prototype.slice,c=((s.prototype=Object.create(e.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}},{1:!0,9:!0,11:!0});return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){e=new n(e);this.images.push(e)},s.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},s.prototype.check=function(){function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((l=e).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(l(this))})})(),s}),function(e){var t=function(l,O){"use strict";if(O.getElementsByClassName){var H,$,N=O.documentElement,a=l.Date,i=l.HTMLPictureElement,u="addEventListener",R="getAttribute",c=l[u],W=l.setTimeout,d=l.requestAnimationFrame||W,h=l.requestIdleCallback,j=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],n={},M=Array.prototype.forEach,U=function(e,t){return n[t]||(n[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),n[t].test(e[R]("class")||"")&&n[t]},B=function(e,t){U(e,t)||e.setAttribute("class",(e[R]("class")||"").trim()+" "+t)},K=function(e,t){var n;(n=U(e,t))&&e.setAttribute("class",(e[R]("class")||"").replace(n," "))},G=function(t,n,e){var i=e?u:"removeEventListener";e&&G(t,n),o.forEach(function(e){t[i](e,n)})},Q=function(e,t,n,i,o){var r=O.createEvent("Event");return n||(n={}),n.instance=H,r.initEvent(t,!i,!o),r.detail=n,e.dispatchEvent(r),r},J=function(e,t){var n;!i&&(n=l.picturefill||$.pf)?(t&&t.src&&!e[R]("srcset")&&e.setAttribute("srcset",t.src),n({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},Y=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,n){for(n=n||e.offsetWidth;n<$.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},Z=function(){var n,i,t=[],o=[],r=t,s=function(){var e=r;for(r=t.length?o:t,n=!0,i=!1;e.length;)e.shift()();n=!1},e=function(e,t){n&&!t?e.apply(this,arguments):(r.push(e),i||(i=!0,(O.hidden?W:d)(s)))};return e._lsFlush=s,e}(),V=function(n,e){return e?function(){Z(n)}:function(){var e=this,t=arguments;Z(function(){n.apply(e,t)})}},X=function(e){var n,i=0,o=$.throttleDelay,r=$.ricTimeout,t=function(){n=!1,i=a.now(),e()},s=h&&r>49?function(){h(t,{timeout:r}),r!==$.ricTimeout&&(r=$.ricTimeout)}:V(function(){W(t)},!0);return function(e){var t;(e=!0===e)&&(r=33),n||(n=!0,t=o-(a.now()-i),t<0&&(t=0),e||t<9?s():W(s,t))}},ee=function(e){var t,n,i=99,o=function(){t=null,e()},r=function(){var e=a.now()-n;e<i?W(r,i-e):(h||o)(o)};return function(){n=a.now(),t||(t=W(r,i))}};!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};$=l.lazySizesConfig||l.lazysizesConfig||{};for(e in t)e in $||($[e]=t[e]);l.lazySizesConfig=$,W(function(){$.init&&r()})}();var e=function(){var f,p,d,m,t,g,v,y,b,w,S,E,r=/^img$/i,h=/^iframe$/i,x="onscroll"in l&&!/(gle|ing)bot/.test(navigator.userAgent),I=0,C=0,_=0,z=-1,k=function(e){_--,e&&e.target&&G(e.target,k),(!e||_<0||!e.target)&&(_=0)},P=function(e){return null==E&&(E="hidden"==Y(O.body,"visibility")),E||"hidden"!=Y(e.parentNode,"visibility")&&"hidden"!=Y(e,"visibility")},T=function(e,t){var n,i=e,o=P(e);for(y-=t,S+=t,b-=t,w+=t;o&&(i=i.offsetParent)&&i!=O.body&&i!=N;)(o=(Y(i,"opacity")||1)>0)&&"visible"!=Y(i,"overflow")&&(n=i.getBoundingClientRect(),o=w>n.left&&b<n.right&&S>n.top-1&&y<n.bottom+1);return o},e=function(){var e,t,n,i,o,r,s,l,a,u,c,d,h=H.elements;if((m=$.loadMode)&&_<8&&(e=h.length)){for(t=0,z++,u=!$.expand||$.expand<1?N.clientHeight>500&&N.clientWidth>500?500:370:$.expand,c=u*$.expFactor,d=$.hFac,E=null,C<c&&_<1&&z>2&&m>2&&!O.hidden?(C=c,z=0):C=m>1&&z>1&&_<6?u:I;t<e;t++)if(h[t]&&!h[t]._lazyRace)if(x)if((l=h[t][R]("data-expand"))&&(r=1*l)||(r=C),a!==r&&(g=innerWidth+r*d,v=innerHeight+r,s=-1*r,a=r),n=h[t].getBoundingClientRect(),(S=n.bottom)>=s&&(y=n.top)<=v&&(w=n.right)>=s*d&&(b=n.left)<=g&&(S||w||b||y)&&($.loadHidden||P(h[t]))&&(p&&_<3&&!l&&(m<3||z<4)||T(h[t],r))){if(q(h[t]),o=!0,_>9)break}else!o&&p&&!i&&_<4&&z<4&&m>2&&(f[0]||$.preloadAfterLoad)&&(f[0]||!l&&(S||w||b||y||"auto"!=h[t][R]($.sizesAttr)))&&(i=f[0]||h[t]);else q(h[t]);i&&!o&&q(i)}},n=X(e),A=function(e){B(e.target,$.loadedClass),K(e.target,$.loadingClass),G(e.target,L),Q(e.target,"lazyloaded")},i=V(A),L=function(e){i({target:e.target})},F=function(t,n){try{t.contentWindow.location.replace(n)}catch(e){t.src=n}},D=function(e){var t,n=e[R]($.srcsetAttr);(t=$.customMedia[e[R]("data-media")||e[R]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},s=V(function(e,t,n,i,o){var r,s,l,a,u,c;(u=Q(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(n?B(e,$.autosizesClass):e.setAttribute("sizes",i)),s=e[R]($.srcsetAttr),r=e[R]($.srcAttr),o&&(l=e.parentNode,a=l&&j.test(l.nodeName||"")),c=t.firesLoad||"src"in e&&(s||r||a),u={target:e},c&&(G(e,k,!0),clearTimeout(d),d=W(k,2500),B(e,$.loadingClass),G(e,L,!0)),a&&M.call(l.getElementsByTagName("source"),D),s?e.setAttribute("srcset",s):r&&!a&&(h.test(e.nodeName)?F(e,r):e.src=r),o&&(s||a)&&J(e,{src:r})),e._lazyRace&&delete e._lazyRace,K(e,$.lazyClass),Z(function(){(!c||e.complete&&e.naturalWidth>1)&&(c?k(u):_--,A(u))},!0)}),q=function(e){var t,n=r.test(e.nodeName),i=n&&(e[R]($.sizesAttr)||e[R]("sizes")),o="auto"==i;(!o&&p||!n||!e[R]("src")&&!e.srcset||e.complete||U(e,$.errorClass)||!U(e,$.lazyClass))&&(t=Q(e,"lazyunveilread").detail,o&&te.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,s(e,t,o,i,n))},o=function(){if(!p){if(a.now()-t<999)return void W(o,999);var e=ee(function(){$.loadMode=3,n()});p=!0,$.loadMode=3,n(),c("scroll",function(){3==$.loadMode&&($.loadMode=2),e()},!0)}};return{_:function(){t=a.now(),H.elements=O.getElementsByClassName($.lazyClass),f=O.getElementsByClassName($.lazyClass+" "+$.preloadClass),c("scroll",n,!0),c("resize",n,!0),l.MutationObserver?new MutationObserver(n).observe(N,{childList:!0,subtree:!0,attributes:!0}):(N[u]("DOMNodeInserted",n,!0),N[u]("DOMAttrModified",n,!0),setInterval(n,999)),c("hashchange",n,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){O[u](e,n,!0)}),/d$|^c/.test(O.readyState)?o():(c("load",o),O[u]("DOMContentLoaded",n),W(o,2e4)),H.elements.length?(e(),Z._lsFlush()):n()},checkElems:n,unveil:q}}(),te=function(){var n,r=V(function(e,t,n,i){var o,r,s;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),j.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),r=0,s=o.length;r<s;r++)o[r].setAttribute("sizes",i);n.detail.dataAttr||J(e,n.detail)}),i=function(e,t,n){var i,o=e.parentNode;o&&(n=s(e,o,n),i=Q(e,"lazybeforesizes",{width:n,dataAttr:!!t}),i.defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&r(e,o,i,n))},e=function(){var e,t=n.length;if(t)for(e=0;e<t;e++)i(n[e])},t=ee(e);return{_:function(){n=O.getElementsByClassName($.autosizesClass),c("resize",t)},checkElems:t,updateElem:i}}(),r=function(){r.i||(r.i=!0,te._(),e._())};return H={cfg:$,autoSizer:te,loader:e,init:r,uP:J,aC:B,rC:K,hC:U,fire:Q,gW:s,rAF:Z}}}(e,e.document);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t,n,i,o,r){return d((t=d(d(t,e),d(i,r)))<<o|t>>>32-o,n)}function h(e,t,n,i,o,r,s){return l(t&n|~t&i,e,t,o,r,s)}function f(e,t,n,i,o,r,s){return l(t&i|n&~i,e,t,o,r,s)}function p(e,t,n,i,o,r,s){return l(t^n^i,e,t,o,r,s)}function m(e,t,n,i,o,r,s){return l(n^(t|~i),e,t,o,r,s)}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,i,o,r,s=1732584193,l=-271733879,a=-1732584194,u=271733878,c=0;c<e.length;c+=16)l=m(l=m(l=m(l=m(l=p(l=p(l=p(l=p(l=f(l=f(l=f(l=f(l=h(l=h(l=h(l=h(i=l,a=h(o=a,u=h(r=u,s=h(n=s,l,a,u,e[c],7,-680876936),l,a,e[c+1],12,-389564586),s,l,e[c+2],17,606105819),u,s,e[c+3],22,-1044525330),a=h(a,u=h(u,s=h(s,l,a,u,e[c+4],7,-176418897),l,a,e[c+5],12,1200080426),s,l,e[c+6],17,-1473231341),u,s,e[c+7],22,-45705983),a=h(a,u=h(u,s=h(s,l,a,u,e[c+8],7,1770035416),l,a,e[c+9],12,-1958414417),s,l,e[c+10],17,-42063),u,s,e[c+11],22,-1990404162),a=h(a,u=h(u,s=h(s,l,a,u,e[c+12],7,1804603682),l,a,e[c+13],12,-40341101),s,l,e[c+14],17,-1502002290),u,s,e[c+15],22,1236535329),a=f(a,u=f(u,s=f(s,l,a,u,e[c+1],5,-165796510),l,a,e[c+6],9,-1069501632),s,l,e[c+11],14,643717713),u,s,e[c],20,-373897302),a=f(a,u=f(u,s=f(s,l,a,u,e[c+5],5,-701558691),l,a,e[c+10],9,38016083),s,l,e[c+15],14,-660478335),u,s,e[c+4],20,-405537848),a=f(a,u=f(u,s=f(s,l,a,u,e[c+9],5,568446438),l,a,e[c+14],9,-1019803690),s,l,e[c+3],14,-187363961),u,s,e[c+8],20,1163531501),a=f(a,u=f(u,s=f(s,l,a,u,e[c+13],5,-1444681467),l,a,e[c+2],9,-51403784),s,l,e[c+7],14,1735328473),u,s,e[c+12],20,-1926607734),a=p(a,u=p(u,s=p(s,l,a,u,e[c+5],4,-378558),l,a,e[c+8],11,-2022574463),s,l,e[c+11],16,1839030562),u,s,e[c+14],23,-35309556),a=p(a,u=p(u,s=p(s,l,a,u,e[c+1],4,-1530992060),l,a,e[c+4],11,1272893353),s,l,e[c+7],16,-155497632),u,s,e[c+10],23,-1094730640),a=p(a,u=p(u,s=p(s,l,a,u,e[c+13],4,681279174),l,a,e[c],11,-358537222),s,l,e[c+3],16,-722521979),u,s,e[c+6],23,76029189),a=p(a,u=p(u,s=p(s,l,a,u,e[c+9],4,-640364487),l,a,e[c+12],11,-421815835),s,l,e[c+15],16,530742520),u,s,e[c+2],23,-995338651),a=m(a,u=m(u,s=m(s,l,a,u,e[c],6,-198630844),l,a,e[c+7],10,1126891415),s,l,e[c+14],15,-1416354905),u,s,e[c+5],21,-57434055),a=m(a,u=m(u,s=m(s,l,a,u,e[c+12],6,1700485571),l,a,e[c+3],10,-1894986606),s,l,e[c+10],15,-1051523),u,s,e[c+1],21,-2054922799),a=m(a,u=m(u,s=m(s,l,a,u,e[c+8],6,1873313359),l,a,e[c+15],10,-30611744),s,l,e[c+6],15,-1560198380),u,s,e[c+13],21,1309151649),a=m(a,u=m(u,s=m(s,l,a,u,e[c+4],6,-145523070),l,a,e[c+11],10,-1120210379),s,l,e[c+2],15,718787259),u,s,e[c+9],21,-343485551),s=d(s,n),l=d(l,i),a=d(a,o),u=d(u,r);return[s,l,a,u]}function a(e){for(var t="",n=32*e.length,i=0;i<n;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function u(e){var t=[];for(t[(e.length>>2)-1]=void 0,i=0;i<t.length;i+=1)t[i]=0;for(var n=8*e.length,i=0;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t}function i(e){for(var t,n="0123456789abcdef",i="",o=0;o<e.length;o+=1)t=e.charCodeAt(o),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function c(e){return unescape(encodeURIComponent(e))}function o(e){return a(s(u(e=c(e)),8*e.length))}function r(e,t){var n,e=c(e),t=c(t),i=u(e),o=[],r=[];for(o[15]=r[15]=void 0,16<i.length&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],r[n]=1549556828^i[n];return e=s(o.concat(u(t)),512+8*t.length),a(s(r.concat(e),640))}function t(e,t,n){return t?n?r(t,e):i(r(t,e)):n?o(e):i(o(e))}"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.md5=t}(this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,l){function e(e){if(_)return!0;e=e||window.event,C.timeToIdle&&C.mouseUsed&&!b&&a();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<q.length;o++)(t=q[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),_=!0,e=l.features.isOldAndroid?600:30,setTimeout(function(){_=!1},e))}function n(){var e=1===C.getNumItemsFn();e!==I&&(F(f,"ui--one-slide",e),I=e)}function s(){F(v,"share-modal--hidden",L)}function o(){if((L=!L)?(l.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){L&&s()},300)):(s(),setTimeout(function(){L||l.addClass(v,"pswp__share-modal--fade-in")},30)),!L){for(var e,t,n,i,o="",r=0;r<C.shareButtons.length;r++)e=C.shareButtons[r],t=C.getImageURLForShare(e),n=C.getPageURLForShare(e),i=C.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",C.parseShareButtonOut&&(o=C.parseShareButtonOut(e,o));v.children[0].innerHTML=o,v.children[0].onclick=$}}function r(e){for(var t=0;t<C.closeElClasses.length;t++)if(l.hasClass(e,"pswp__"+C.closeElClasses[t]))return!0}function a(){clearTimeout(k),D=0,b&&P.setIdle(!1)}function u(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(k),k=setTimeout(function(){P.setIdle(!0)},C.timeToIdleOutside))}function c(e){E!==e&&(F(S,"preloader--active",!e),E=e)}function d(e){var t,n=e.vGap;!i.likelyTouchDevice||C.mouseUsed||screen.width>C.fitControlsWidth?(t=C.barsSize,C.captionEl&&"auto"===t.bottom?(m||((m=l.createEl("pswp__caption pswp__caption--fake")).appendChild(l.createEl("pswp__caption__center")),f.insertBefore(m,p),l.addClass(f,"pswp__ui--fit")),C.addCaptionHTMLFn(e,m,!0)?(e=m.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function O(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],r=o.className;for(var i=0;i<q.length;i++)s=q[i],-1<r.indexOf("pswp__"+s.name)&&(C[s.option]?(l.removeClass(o,"pswp__element--disabled"),s.onInit&&s.onInit(o)):l.addClass(o,"pswp__element--disabled"))}}e(f.children);var o,r,s,t=l.getChildByClass(f,"pswp__top-bar");t&&e(t.children)}var h,f,p,m,t,g,v,y,b,w,S,E,x,I,C,_,z,k,P=this,T=!1,A=!0,L=!0,H={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},F=function(e,t,n){l[(n?"add":"remove")+"Class"](e,"pswp__"+t)},$=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),L||o(),1))},D=0,q=[{name:"caption",option:"captionEl",onInit:function(e){p=e}},{name:"share-modal",option:"shareEl",onInit:function(e){v=e},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(e){g=e},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){S=e}}];P.init=function(){var t;l.extend(i.options,H,!0),C=i.options,f=l.getChildByClass(i.scrollWrap,"pswp__ui"),(w=i.listen)("onVerticalDrag",function(e){A&&e<.95?P.hideControls():!A&&.95<=e&&P.showControls()}),w("onPinchClose",function(e){A&&e<.9?(P.hideControls(),t=!0):t&&!A&&.9<e&&P.showControls()}),w("zoomGestureEnded",function(){(t=!1)&&!A&&P.showControls()}),w("beforeChange",P.update),w("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(C.getDoubleTapZoom(!1,i.currItem),e,333)}),w("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),w("bindEvents",function(){l.bind(f,"pswpTap click",e),l.bind(i.scrollWrap,"pswpTap",P.onGlobalTap),i.likelyTouchDevice||l.bind(i.scrollWrap,"mouseover",P.onMouseOver)}),w("unbindEvents",function(){L||o(),z&&clearInterval(z),l.unbind(document,"mouseout",u),l.unbind(document,"mousemove",a),l.unbind(f,"pswpTap click",e),l.unbind(i.scrollWrap,"pswpTap",P.onGlobalTap),l.unbind(i.scrollWrap,"mouseover",P.onMouseOver),h&&(l.unbind(document,h.eventK,P.updateFullscreen),h.isFullscreen()&&(C.hideAnimationDuration=0,h.exit()),h=null)}),w("destroy",function(){C.captionEl&&(m&&f.removeChild(m),l.removeClass(p,"pswp__caption--empty")),v&&(v.children[0].onclick=null),l.removeClass(f,"pswp__ui--over-close"),l.addClass(f,"pswp__ui--hidden"),P.setIdle(!1)}),C.showAnimationDuration||l.removeClass(f,"pswp__ui--hidden"),w("initialZoomIn",function(){C.showAnimationDuration&&l.removeClass(f,"pswp__ui--hidden")}),w("initialZoomOut",function(){l.addClass(f,"pswp__ui--hidden")}),w("parseVerticalMargin",d),O(),C.shareEl&&g&&v&&(L=!0),n(),C.timeToIdle&&w("mouseUsed",function(){l.bind(document,"mousemove",a),l.bind(document,"mouseout",u),z=setInterval(function(){2===++D&&P.setIdle(!0)},C.timeToIdle/2)}),C.fullscreenEl&&!l.features.isOldAndroid&&((h=h||P.getFullscreenAPI())?(l.bind(document,h.eventK,P.updateFullscreen),P.updateFullscreen(),l.addClass(i.template,"pswp--supports-fs")):l.removeClass(i.template,"pswp--supports-fs")),C.preloaderEl&&(c(!0),w("beforeChange",function(){clearTimeout(x),x=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||c(!1):c(!0)},C.loadingIndicatorDelay)}),w("imageLoadComplete",function(e,t){i.currItem===t&&c(!0)}))},P.setIdle=function(e){F(f,"ui--idle",b=e)},P.update=function(){T=!(!A||!i.currItem)&&(P.updateIndexIndicator(),C.captionEl&&(C.addCaptionHTMLFn(i.currItem,p),F(p,"caption--empty",!i.currItem.title)),!0),L||o(),n()},P.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,l.getScrollY())},50),l[(h.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},P.updateIndexIndicator=function(){C.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+C.indexIndicatorSep+C.getNumItemsFn())},P.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!_)if(e.detail&&"mouse"===e.detail.pointerType)r(t)?i.close():l.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?C.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(C.tapToToggleControls&&(A?P.hideControls():P.showControls()),C.tapToClose&&(l.hasClass(t,"pswp__img")||r(t)))return void i.close()},P.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;F(f,"ui--over-close",r(e))},P.hideControls=function(){l.addClass(f,"pswp__ui--hidden"),A=!1},P.showControls=function(){A=!0,T||P.update(),l.removeClass(f,"pswp__ui--hidden")},P.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},P.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return y=C.closeOnScroll,C.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return C.closeOnScroll=y,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}});var timeout,html=$("html"),body=$("body"),st=0,lastSt=0,titleOffset=0,contentOffset=0,progress=$(".sticky-progress");function sticky(){"use strict";st=jQuery(window).scrollTop(),0<titleOffset&&0<contentOffset&&(lastSt<st?titleOffset<st&&body.addClass("sticky-visible"):st<=titleOffset&&body.removeClass("sticky-visible")),progress.css("transform","translate3d("+(-100+Math.min(100*st/contentOffset,100))+"%,0,0)"),lastSt=st}function subMenu(){"use strict";var t,e=$(".main-nav"),n=e.find('.menu-item[href*="..."]');n.length&&(n.nextAll(".menu-item").wrapAll('<div class="sub-menu" />'),n.replaceWith('<button class="button-icon menu-item-button menu-item-more" aria-label="More"><svg class="icon"><use xlink:href="#dots-horizontal"></use></svg></button>'),n=e.find(".menu-item-more"),t=$(".sub-menu"),n.append(t),n.on("click",function(){t.is(":visible")?t.addClass("animate__animated animate__zoomOut"):t.show().addClass("animate__animated animate__bounceIn")}),t.on("animationend",function(e){t.removeClass("animate__animated animate__bounceIn animate__zoomOut"),"zoomOut"==e.originalEvent.animationName&&t.hide()}))}function featured(){"use strict";$(".featured-feed").owlCarousel({dots:!1,margin:30,nav:!0,navText:['<svg class="icon"><use xlink:href="#chevron-left"></use></svg>','<svg class="icon"><use xlink:href="#chevron-right"></use></svg>'],responsive:{0:{items:1},768:{items:2},992:{items:3}}})}function pagination(){"use strict";var e=$(".post-feed");body.hasClass("paged-next")&&e.infiniteScroll({append:".feed",button:".infinite-scroll-button",debug:!1,hideNav:".pagination",history:!1,path:".pagination .older-posts",scrollThreshold:!1,status:".infinite-scroll-status"}),e.on("append.infiniteScroll",function(e,t,n,i){$(i[0]).addClass("feed-paged")})}function table(){"use strict";(body.hasClass("post-template")||body.hasClass("page-template"))&&$(".single-content").find(".table").each(function(e,t){var n=[];$(t).find("thead th").each(function(e,t){n.push($(t).text())}),$(t).find("tr").each(function(e,t){$(t).find("td").each(function(e,t){$(t).attr("data-label",n[e])})})})}function toc(){"use strict";var i,e;body.hasClass("post-template")&&(i="",e=$(".sticky-toc-button"),$(".single-content").find("> h2, > h3").each(function(e,t){var n="H3"==$(this).prop("tagName")?"sticky-toc-link sticky-toc-link-indented":"sticky-toc-link";i+='<a class="'+n+'" href="#'+$(t).attr("id")+'">'+$(t).text()+"</a>"}),""==i&&e.remove(),$(".sticky-toc").html(i),e.on("click",function(){body.toggleClass("toc-opened")}),$(".sticky-toc-link").on("click",function(e){e.preventDefault();e=$(this).attr("href");$("html, body").animate({scrollTop:$('[id="'+e.substring(1)+'"]').offset().top-82},500)}))}function modal(){"use strict";var t=$(".modal-overlay"),e=$(".modal"),n=$(".modal-input");$(".js-modal").on("click",function(e){e.preventDefault(),t.show().outerWidth(),body.addClass("modal-opened"),n.focus()}),$(".modal-close, .modal-overlay").on("click",function(){body.removeClass("modal-opened")}),e.on("click",function(e){e.stopPropagation()}),$(document).keyup(function(e){27===e.keyCode&&body.hasClass("modal-opened")&&body.removeClass("modal-opened")}),t.on("transitionend",function(e){body.hasClass("modal-opened")||t.hide()}),e.on("transitionend",function(e){e.stopPropagation()})}function burger(){"use strict";$(".burger").on("click",function(){body.toggleClass("menu-opened")})}function theme(){"use strict";var e=$(".js-theme"),t=e.find(".theme-text");function n(){(window.matchMedia("(prefers-color-scheme: dark)").matches?i:o)(),t.text(e.attr("data-system"))}function i(){html.removeClass("theme-light").addClass("theme-dark"),localStorage.setItem("dawn_theme","dark"),t.text(e.attr("data-dark"))}function o(){html.removeClass("theme-dark").addClass("theme-light"),localStorage.setItem("dawn_theme","light"),t.text(e.attr("data-light"))}switch(localStorage.getItem("dawn_theme")){case"dark":i();break;case"light":o();break;default:n()}e.on("click",function(e){e.preventDefault(),(html.hasClass("theme-dark")||html.hasClass("theme-light")?html.hasClass("theme-dark")?o:i:n)()})}$(function(){"use strict";subMenu(),featured(),pagination(),table(),toc(),modal(),burger(),theme()}),$(window).on("scroll",function(){"use strict";body.hasClass("post-template")&&(timeout&&window.cancelAnimationFrame(timeout),timeout=window.requestAnimationFrame(sticky))}),$(window).on("load",function(){"use strict";var e,t;body.hasClass("post-template")&&(titleOffset=$(".single-title").offset().top,t=(e=$(".single-content")).height(),contentOffset=e.offset().top+t-$(window).height()/2)});
//# sourceMappingURL=main.min.js.map